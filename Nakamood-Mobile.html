<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nakamood-Mobile â€“ Portfolio Stage</title>
  <link rel="stylesheet" href="css/Nakamood-Mobile.css"/>
</head>
<body>
  <!-- NAVBAR -->
  <header>
    <nav class="navbar">
      <div class="navbar__logo">
        <a href="index.html">Stage Portfolio</a>
      </div>
      <ul class="navbar__links">
        <li><a href="index.html">Accueil</a></li>
        <li><a href="competences.html">CompÃ©tences</a></li>
        <li><a href="Nackamood-Mobile.html" class="active">Mobile</a></li>
        <li><a href="bilan.html">Bilan</a></li>
      </ul>
    </nav>
  </header>

  <!-- CONTENT -->
  <main class="project-detail">
    <h1>Nakamood-Mobile</h1>

    <section id="version-flutter">
      <h2>1. MontÃ©e de version Flutter</h2>
      <p>
        Pour maintenir lâ€™application mobile Ã  jour, jâ€™ai rÃ©alisÃ© une montÃ©e de version Flutter vers la
        <strong>3.29.3</strong>.  
        Jâ€™ai suivi la documentation officielle :  
      </p>
      <ul>
        <li>
          <a href="https://docs.flutter.dev/install/upgrade" target="_blank">
            Flutter â€“ mettre Ã  jour vers la derniÃ¨re version stable
          </a>
        </li>
        <li>
          Un autre guide dÃ©taillait les modifications Ã  apporter dans
          <code>android/app/build.gradle</code> pour
          adapter les versions de compileSdk et targetSdk.
        </li>
      </ul>
      <p>
        Cette opÃ©ration a gÃ©nÃ©rÃ© plusieurs conflits de dÃ©pendances et warnings AndroidX,  
        que jâ€™ai dÃ» corriger en mettant Ã  jour certains plugins et en ajustant le <code>minSdkVersion</code>.
        La rÃ©solution de ces bugs mâ€™a pris une bonne journÃ©e de dÃ©bogage.
      </p>
    </section>

    <section id="token">
      <h2>2. Refactoring : passage du userId au token</h2>
      <p>
        Comme pour les autres modules, jâ€™ai remplacÃ© toutes les utilisations directes du <code>userId</code>
        par le <em>token JWT</em> pour renforcer la sÃ©curitÃ©.  
      </p>
      <ul>
        <li>
          Suppression des appels REST rÃ©cupÃ©rant le <code>userId</code> en clair.
        </li>
        <li>
          Injection du token stockÃ© cÃ´tÃ© mobile (secure storage) dans lâ€™en-tÃªte
          <code>Authorization: Bearer &lt;token&gt;</code>.
        </li>
        <li>
          Adaptation des fonctions dâ€™API dans
          <code>lib/services/api_service.dart</code> pour transmettre le token.
        </li>
      </ul>
      <p>
        GrÃ¢ce Ã  ce refactoring, les endpoints vÃ©rifient dÃ©sormais uniquement le JWT,
        Ã©vitant toute fuite dâ€™identifiants utilisateurs.  
        La principale difficultÃ© a Ã©tÃ© de tester chaque appel rÃ©seau pour sâ€™assurer
        quâ€™aucune ancienne route ne cassait lâ€™authentification.
      </p>
    </section>

    <section id="tests">
      <h2>3. Tests et validation</h2>
      <p>
        AprÃ¨s ces changements, jâ€™ai compilÃ© et dÃ©ployÃ© lâ€™APK de test sur plusieurs appareils (Android 11 Ã  14),
        vÃ©rifiÃ© lâ€™authentification et parcouru toutes les fonctionnalitÃ©s,  
        et lâ€™application fonctionnait parfaitement Ã  la fin.
      </p>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="site-footer__contact">
      <span>ğŸ“ 07 44 87 40 34</span>
      <span>âœ‰ <a href="mailto:aminataorngom34@gmail.com">aminataorngom34@gmail.com</a></span>
    </div>
    <p>Â© 2025 Aminata Oumou Rassoul Ngom</p>
  </footer>
</body>
</html>
